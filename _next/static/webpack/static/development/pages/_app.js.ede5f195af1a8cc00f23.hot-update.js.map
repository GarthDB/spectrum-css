{"version":3,"file":"static/webpack/static/development/pages/_app.js.ede5f195af1a8cc00f23.hot-update.js","sources":["webpack:///./components/Sidebar.js"],"sourcesContent":["import Link from \"next/link\";\nimport Button from \"@react/react-spectrum/Button\";\nimport ShowMenu from \"@react/react-spectrum/Icon/ShowMenu\";\nimport { SideNav, SideNavItem } from \"@react/react-spectrum/SideNav\";\nimport Router from \"next/router\";\nimport { withRouter } from \"next/router\";\nimport classNames from \"classnames\";\nimport menuData from \"../data/newmenu\";\nimport SiteSearch from \"./SiteSearch\";\nimport getConfig from \"next/config\";\nimport Logo from \"./Logo\";\nimport styles from \"./css/sidebar.scss\";\n\n\nconst createLinkProps = item => {\n  if (item.linkType === \"External\") {\n    return { href: item.url };\n  }\n  if (item.parent.split(\",\").includes(\"Components\")) {\n    return {\n      href: `/components/id?id=${item.url}`,\n      as: `${process.env.BACKEND_URL}/components/${item.url}`\n    };\n  }\n  return { href: `/${item.url}`, as: `${process.env.BACKEND_URL}/${item.url}` };\n};\n\nconst SideNavRender = (item, i, ref) => {\n  if (!item.children || item.children.length == 0) {\n    return (\n      <SideNavItem\n        value={item.url}\n        label={item.title}\n        key={i}\n        style={{ width: \"200px\" }}\n        ref={ref}\n        renderLink={props => {\n          delete props.href;\n          if(item.linkType === \"External\") {\n            return (\n              <a className=\"spectrum-SideNav-itemLink\" {...createLinkProps(item)}>{item.title}</a>\n            );\n          } else {\n            return (\n              <Link {...createLinkProps(item)}>\n                <a {...props}>{item.title}</a>\n              </Link>\n            );\n          }\n        }}\n      />\n    );\n  } else {\n    return (\n      <SideNavItem\n        value={item.url}\n        label={item.title}\n        key={i}\n        defaultExpanded={item.defaultExpanded}\n        style={{ width: \"200px\" }}\n      >\n        {item.children && item.children.map((childItem, childI) => {\n          const childRef = (childItem.url === this.props.router.query.id) ? ref : undefined;\n          return SideNavRender(childItem, childI, childRef);\n        })}\n      </SideNavItem>\n    );\n  }\n}\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.selectedItem = React.createRef();\n    this.state = {\n      menuOpen: false\n    };\n  }\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n  componentWillReceiveProps(nextProps) {\n    const selected = menuData.key.find(item => {\n      return item.url === nextProps.router.query.id;\n    });\n    if (selected) {\n      const selectedParentSlug = selected.parent.split(\",\").find(item => {\n        return item !== \"top-level-menu-item\" && item !== \"WebsiteMenu\";\n      });\n      const selectedParent = menuData.key.find(item => {\n        return item.title === selectedParentSlug;\n      });\n      if (selectedParent) {\n        selectedParent.defaultExpanded = true;\n      }\n    }\n  }\n  updateDimensions(e) {\n    if(this.state.menuOpen && window.innerWidth >= 960) {\n      this.closeMenu();\n    }\n  }\n  openMenu() {\n    this.setState({\n      menuOpen: true\n    });\n  };\n  closeMenu() {\n    this.setState({\n      menuOpen: false\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <div\n          className={classNames(\n            styles.overlay,\n            this.state.menuOpen ? styles.menuOpen : styles.menuClosed\n          )}\n          onClick={() => this.closeMenu()}\n        ></div>\n        <div className={styles.appHeader}>\n          <Button\n            variant=\"tool\"\n            icon={<ShowMenu />}\n            aria-label=\"Show\"\n            onClick={() => this.openMenu()}\n          />\n        </div>\n        <div\n          className={classNames(\n            styles.sideBar,\n            this.state.menuOpen ? styles.menuOpen : styles.menuClosed\n          )}\n        >\n          <div className={classNames(styles.spectrumSidebar)}>\n            <div className={styles.header}>\n              <Logo/>\n\n              <SiteSearch />\n            </div>\n\n            <div className={styles.navigation}>\n              <SideNav\n                defaultValue={this.props.router.query.id}\n                style={{ width: \"200px\", marginBottom: 80 }}\n                variant=\"multiLevel\"\n              >\n                {menuData.menu[0].children.map((item, i) => {\n                  const ref = (item.url === this.props.router.query.id) ? this.selectedItem : undefined\n\n                  return SideNavRender.bind(this)(item, i, ref);\n                })}\n              </SideNav>\n              <SideNav style={{ width: \"200px\", marginBottom: \"40px\" }}>\n                <SideNavItem\n                  value=\"Spectrum\"\n                  target=\"_blank\"\n                  href=\"#\"\n                  style={{ width: \"200px\" }}\n                >\n                  Spectrum\n                </SideNavItem>\n              </SideNav>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\nexport default withRouter(Sidebar);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAGA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AADA;AAJA;AAOA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AADA;AAGA;;;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AACA;AAAA;AAGA;AAIA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;;;;AAtGA;AACA;AAuGA;;;;A","sourceRoot":""}